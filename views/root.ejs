<%
    function isset(type) {
        return type === 'undefined';
    }

    const attribs = {
        options,
        isset,
        getFile,
        loggedIn: locals.user,
        user: locals.user,
        isAdmin
    };

    function setup() {
        if(!options.page) {
            print("404");
            return;
        }
        %><%- include(options.page, attribs); %><%
    }

    function isAdmin(user) {
        return user.gm >= 3 || user.webadmin >= 3;
    }

    function getFile(name) {
        return `upload/${name}`;
    }
    setup();
%>
